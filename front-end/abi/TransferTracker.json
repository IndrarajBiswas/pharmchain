{
  "_format": "hh-sol-artifact-1",
  "contractName": "TransferTracker",
  "sourceName": "contracts/TransferTracker.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "accessControlAddr",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "batchRegistryAddr",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "batchId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalTransfers",
          "type": "uint256"
        }
      ],
      "name": "TransferCountUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "batchId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsCID",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "TransferLogged",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "accessControl",
      "outputs": [
        {
          "internalType": "contract IRoleAccessControl",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "batchRegistry",
      "outputs": [
        {
          "internalType": "contract IDrugBatchRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "batchTransfers",
      "outputs": [
        {
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint96",
          "name": "timestamp",
          "type": "uint96"
        },
        {
          "internalType": "string",
          "name": "ipfsCID",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "batchId",
          "type": "string"
        }
      ],
      "name": "getTransferCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "batchId",
          "type": "string"
        }
      ],
      "name": "getTransferHistory",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "from",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "to",
              "type": "address"
            },
            {
              "internalType": "uint96",
              "name": "timestamp",
              "type": "uint96"
            },
            {
              "internalType": "string",
              "name": "ipfsCID",
              "type": "string"
            }
          ],
          "internalType": "struct TransferTracker.Transfer[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "batchId",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "ipfsCID",
          "type": "string"
        }
      ],
      "name": "logTransfer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60c060405234801561001057600080fd5b50604051610f50380380610f5083398101604081905261002f91610062565b6001600160a01b039182166080521660a052610095565b80516001600160a01b038116811461005d57600080fd5b919050565b6000806040838503121561007557600080fd5b61007e83610046565b915061008c60208401610046565b90509250929050565b60805160a051610e756100db6000396000818160e501526104e4015260008181606c015281816101db0152818161026c015281816102fc015261038d0152610e756000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806313007d551461006757806345a879a3146100ab5780637b2cca7c146100c0578063aa40b77b146100e0578063b0f0567d14610107578063e26198061461013c575b600080fd5b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100be6100b93660046109f5565b61015f565b005b6100d36100ce366004610a6d565b6106e8565b6040516100a29190610afa565b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b61012e610115366004610a6d565b8051602091820120600090815290819052604090205490565b6040519081526020016100a2565b61014f61014a366004610b9a565b61082e565b6040516100a29493929190610bbc565b33826001600160a01b0381166101bc5760405162461bcd60e51b815260206004820152601960248201527f496e76616c696420726563697069656e7420616464726573730000000000000060448201526064015b60405180910390fd5b6040516317d4a49160e01b81526001600160a01b0383811660048301527f000000000000000000000000000000000000000000000000000000000000000016906317d4a49190602401602060405180830381865afa158015610222573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102469190610c01565b80156102d757506040516364d1ba1f60e01b81526001600160a01b0382811660048301527f000000000000000000000000000000000000000000000000000000000000000016906364d1ba1f90602401602060405180830381865afa1580156102b3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102d79190610c01565b806103f857506040516364d1ba1f60e01b81526001600160a01b0383811660048301527f000000000000000000000000000000000000000000000000000000000000000016906364d1ba1f90602401602060405180830381865afa158015610343573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103679190610c01565b80156103f8575060405163dfb0fda360e01b81526001600160a01b0382811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063dfb0fda390602401602060405180830381865afa1580156103d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103f89190610c01565b61043c5760405162461bcd60e51b815260206004820152601560248201527424b73b30b634b2103a3930b739b332b9103830b4b960591b60448201526064016101b3565b600085511161047f5760405162461bcd60e51b815260206004820152600f60248201526e125b9d985b1a590818985d18da1259608a1b60448201526064016101b3565b60008351116104c35760405162461bcd60e51b815260206004820152601060248201526f125b9d985b1a590812541194c810d25160821b60448201526064016101b3565b84516020860120604051633e72909d60e21b81526000906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063f9ca427490610519908a90600401610c2a565b600060405180830381865afa158015610536573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261055e9190810190610c3d565b92505050600081116105a95760405162461bcd60e51b815260206004820152601460248201527310985d18da081b9bdd081c9959da5cdd195c995960621b60448201526064016101b3565b604080516080810182523381526001600160a01b0388811660208084019182526001600160601b03428116858701908152606086018c815260008a8152808552978820805460018181018355918a5294909820875160039095020180549487166001600160a01b031990951694909417845593519051909116600160a01b0293169290921793820193909355915190918291600282019061064a9082610d5d565b505050866001600160a01b0316336001600160a01b0316847f11512538bb7079474ff4b92432bc59e02e7796b9ec6bf3cf96c3da726376e1278942604051610693929190610e1d565b60405180910390a46000838152602081815260409182902054915191825284917f0ee6a43639d605984f46d9a4d2149e45ea8f9a4a7af63fb3bf4dcc19cae5081a910160405180910390a25050505050505050565b606060008083805190602001208152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b82821015610823576000848152602090819020604080516080810182526003860290920180546001600160a01b039081168452600182015490811694840194909452600160a01b9093046001600160601b03169082015260028201805491929160608401919061079290610cd4565b80601f01602080910402602001604051908101604052809291908181526020018280546107be90610cd4565b801561080b5780601f106107e05761010080835404028352916020019161080b565b820191906000526020600020905b8154815290600101906020018083116107ee57829003601f168201915b50505050508152505081526020019060010190610723565b505050509050919050565b6000602052816000526040600020818154811061084a57600080fd5b60009182526020909120600390910201805460018201546002830180546001600160a01b0393841696509282169450600160a01b9091046001600160601b0316929161089590610cd4565b80601f01602080910402602001604051908101604052809291908181526020018280546108c190610cd4565b801561090e5780601f106108e35761010080835404028352916020019161090e565b820191906000526020600020905b8154815290600101906020018083116108f157829003601f168201915b5050505050905084565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561095757610957610918565b604052919050565b600067ffffffffffffffff82111561097957610979610918565b50601f01601f191660200190565b600082601f83011261099857600080fd5b81356109ab6109a68261095f565b61092e565b8181528460208386010111156109c057600080fd5b816020850160208301376000918101602001919091529392505050565b6001600160a01b03811681146109f257600080fd5b50565b600080600060608486031215610a0a57600080fd5b833567ffffffffffffffff80821115610a2257600080fd5b610a2e87838801610987565b945060208601359150610a40826109dd565b90925060408501359080821115610a5657600080fd5b50610a6386828701610987565b9150509250925092565b600060208284031215610a7f57600080fd5b813567ffffffffffffffff811115610a9657600080fd5b610aa284828501610987565b949350505050565b60005b83811015610ac5578181015183820152602001610aad565b50506000910152565b60008151808452610ae6816020860160208601610aaa565b601f01601f19169290920160200192915050565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b83811015610b8c57888303603f19018552815180516001600160a01b039081168552888201511688850152868101516001600160601b031687850152606090810151608091850182905290610b7881860183610ace565b968901969450505090860190600101610b21565b509098975050505050505050565b60008060408385031215610bad57600080fd5b50508035926020909101359150565b6001600160a01b038581168252841660208201526001600160601b0383166040820152608060608201819052600090610bf790830184610ace565b9695505050505050565b600060208284031215610c1357600080fd5b81518015158114610c2357600080fd5b9392505050565b602081526000610c236020830184610ace565b600080600060608486031215610c5257600080fd5b835167ffffffffffffffff811115610c6957600080fd5b8401601f81018613610c7a57600080fd5b8051610c886109a68261095f565b818152876020838501011115610c9d57600080fd5b610cae826020830160208601610aaa565b8095505050506020840151610cc2816109dd565b80925050604084015190509250925092565b600181811c90821680610ce857607f821691505b602082108103610d0857634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610d5857600081815260208120601f850160051c81016020861015610d355750805b601f850160051c820191505b81811015610d5457828155600101610d41565b5050505b505050565b815167ffffffffffffffff811115610d7757610d77610918565b610d8b81610d858454610cd4565b84610d0e565b602080601f831160018114610dc05760008415610da85750858301515b600019600386901b1c1916600185901b178555610d54565b600085815260208120601f198616915b82811015610def57888601518255948401946001909101908401610dd0565b5085821015610e0d5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b604081526000610e306040830185610ace565b9050826020830152939250505056fea2646970667358221220f4f8d222e78d6ccbb3ed8786d35575ee418533d1db5226ff1af49b363101a22364736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c806313007d551461006757806345a879a3146100ab5780637b2cca7c146100c0578063aa40b77b146100e0578063b0f0567d14610107578063e26198061461013c575b600080fd5b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100be6100b93660046109f5565b61015f565b005b6100d36100ce366004610a6d565b6106e8565b6040516100a29190610afa565b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b61012e610115366004610a6d565b8051602091820120600090815290819052604090205490565b6040519081526020016100a2565b61014f61014a366004610b9a565b61082e565b6040516100a29493929190610bbc565b33826001600160a01b0381166101bc5760405162461bcd60e51b815260206004820152601960248201527f496e76616c696420726563697069656e7420616464726573730000000000000060448201526064015b60405180910390fd5b6040516317d4a49160e01b81526001600160a01b0383811660048301527f000000000000000000000000000000000000000000000000000000000000000016906317d4a49190602401602060405180830381865afa158015610222573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102469190610c01565b80156102d757506040516364d1ba1f60e01b81526001600160a01b0382811660048301527f000000000000000000000000000000000000000000000000000000000000000016906364d1ba1f90602401602060405180830381865afa1580156102b3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102d79190610c01565b806103f857506040516364d1ba1f60e01b81526001600160a01b0383811660048301527f000000000000000000000000000000000000000000000000000000000000000016906364d1ba1f90602401602060405180830381865afa158015610343573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103679190610c01565b80156103f8575060405163dfb0fda360e01b81526001600160a01b0382811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063dfb0fda390602401602060405180830381865afa1580156103d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103f89190610c01565b61043c5760405162461bcd60e51b815260206004820152601560248201527424b73b30b634b2103a3930b739b332b9103830b4b960591b60448201526064016101b3565b600085511161047f5760405162461bcd60e51b815260206004820152600f60248201526e125b9d985b1a590818985d18da1259608a1b60448201526064016101b3565b60008351116104c35760405162461bcd60e51b815260206004820152601060248201526f125b9d985b1a590812541194c810d25160821b60448201526064016101b3565b84516020860120604051633e72909d60e21b81526000906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063f9ca427490610519908a90600401610c2a565b600060405180830381865afa158015610536573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261055e9190810190610c3d565b92505050600081116105a95760405162461bcd60e51b815260206004820152601460248201527310985d18da081b9bdd081c9959da5cdd195c995960621b60448201526064016101b3565b604080516080810182523381526001600160a01b0388811660208084019182526001600160601b03428116858701908152606086018c815260008a8152808552978820805460018181018355918a5294909820875160039095020180549487166001600160a01b031990951694909417845593519051909116600160a01b0293169290921793820193909355915190918291600282019061064a9082610d5d565b505050866001600160a01b0316336001600160a01b0316847f11512538bb7079474ff4b92432bc59e02e7796b9ec6bf3cf96c3da726376e1278942604051610693929190610e1d565b60405180910390a46000838152602081815260409182902054915191825284917f0ee6a43639d605984f46d9a4d2149e45ea8f9a4a7af63fb3bf4dcc19cae5081a910160405180910390a25050505050505050565b606060008083805190602001208152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b82821015610823576000848152602090819020604080516080810182526003860290920180546001600160a01b039081168452600182015490811694840194909452600160a01b9093046001600160601b03169082015260028201805491929160608401919061079290610cd4565b80601f01602080910402602001604051908101604052809291908181526020018280546107be90610cd4565b801561080b5780601f106107e05761010080835404028352916020019161080b565b820191906000526020600020905b8154815290600101906020018083116107ee57829003601f168201915b50505050508152505081526020019060010190610723565b505050509050919050565b6000602052816000526040600020818154811061084a57600080fd5b60009182526020909120600390910201805460018201546002830180546001600160a01b0393841696509282169450600160a01b9091046001600160601b0316929161089590610cd4565b80601f01602080910402602001604051908101604052809291908181526020018280546108c190610cd4565b801561090e5780601f106108e35761010080835404028352916020019161090e565b820191906000526020600020905b8154815290600101906020018083116108f157829003601f168201915b5050505050905084565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561095757610957610918565b604052919050565b600067ffffffffffffffff82111561097957610979610918565b50601f01601f191660200190565b600082601f83011261099857600080fd5b81356109ab6109a68261095f565b61092e565b8181528460208386010111156109c057600080fd5b816020850160208301376000918101602001919091529392505050565b6001600160a01b03811681146109f257600080fd5b50565b600080600060608486031215610a0a57600080fd5b833567ffffffffffffffff80821115610a2257600080fd5b610a2e87838801610987565b945060208601359150610a40826109dd565b90925060408501359080821115610a5657600080fd5b50610a6386828701610987565b9150509250925092565b600060208284031215610a7f57600080fd5b813567ffffffffffffffff811115610a9657600080fd5b610aa284828501610987565b949350505050565b60005b83811015610ac5578181015183820152602001610aad565b50506000910152565b60008151808452610ae6816020860160208601610aaa565b601f01601f19169290920160200192915050565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b83811015610b8c57888303603f19018552815180516001600160a01b039081168552888201511688850152868101516001600160601b031687850152606090810151608091850182905290610b7881860183610ace565b968901969450505090860190600101610b21565b509098975050505050505050565b60008060408385031215610bad57600080fd5b50508035926020909101359150565b6001600160a01b038581168252841660208201526001600160601b0383166040820152608060608201819052600090610bf790830184610ace565b9695505050505050565b600060208284031215610c1357600080fd5b81518015158114610c2357600080fd5b9392505050565b602081526000610c236020830184610ace565b600080600060608486031215610c5257600080fd5b835167ffffffffffffffff811115610c6957600080fd5b8401601f81018613610c7a57600080fd5b8051610c886109a68261095f565b818152876020838501011115610c9d57600080fd5b610cae826020830160208601610aaa565b8095505050506020840151610cc2816109dd565b80925050604084015190509250925092565b600181811c90821680610ce857607f821691505b602082108103610d0857634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610d5857600081815260208120601f850160051c81016020861015610d355750805b601f850160051c820191505b81811015610d5457828155600101610d41565b5050505b505050565b815167ffffffffffffffff811115610d7757610d77610918565b610d8b81610d858454610cd4565b84610d0e565b602080601f831160018114610dc05760008415610da85750858301515b600019600386901b1c1916600185901b178555610d54565b600085815260208120601f198616915b82811015610def57888601518255948401946001909101908401610dd0565b5085821015610e0d5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b604081526000610e306040830185610ace565b9050826020830152939250505056fea2646970667358221220f4f8d222e78d6ccbb3ed8786d35575ee418533d1db5226ff1af49b363101a22364736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
