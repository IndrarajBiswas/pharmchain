{
  "_format": "hh-sol-artifact-1",
  "contractName": "DrugBatchRegistry",
  "sourceName": "contracts/DrugBatchRegistry.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "accessControlAddr",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "string",
          "name": "batchId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "dosage",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "expirationDate",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsCID",
          "type": "string"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "manufacturer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "BatchRegistered",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "accessControl",
      "outputs": [
        {
          "internalType": "contract IRoleAccessControl",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "batchIds",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "batches",
      "outputs": [
        {
          "internalType": "string",
          "name": "batchId",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "dosage",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "expirationDate",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "ipfsCID",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "manufacturer",
          "type": "address"
        },
        {
          "internalType": "uint96",
          "name": "registeredAt",
          "type": "uint96"
        },
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAllBatchIds",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "batchId",
          "type": "string"
        }
      ],
      "name": "getBatch",
      "outputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "dosage",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "expirationDate",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "ipfsCID",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "manufacturer",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "registeredAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "batchId",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "dosage",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "expirationDate",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "ipfsCID",
          "type": "string"
        }
      ],
      "name": "registerBatch",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60a060405234801561001057600080fd5b5060405161139038038061139083398101604081905261002f91610040565b6001600160a01b0316608052610070565b60006020828403121561005257600080fd5b81516001600160a01b038116811461006957600080fd5b9392505050565b6080516112ff61009160003960008181606c015261056101526112ff6000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806313007d5514610067578063b3d346b9146100ab578063bce06947146100cc578063c81e25ab146100e1578063f16f927114610109578063f9ca42741461011e575b600080fd5b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100be6100b9366004610d25565b610144565b6040519081526020016100a2565b6100d4610165565b6040516100a29190610d3e565b6100f46100ef366004610d25565b6101bd565b6040516100a299989796959493929190610dc8565b61011c610117366004610f1a565b61054c565b005b61013161012c36600461100f565b6108ab565b6040516100a2979695949392919061104c565b6001818154811061015457600080fd5b600091825260209091200154905081565b606060018054806020026020016040519081016040528092919081815260200182805480156101b357602002820191906000526020600020905b81548152602001906001019080831161019f575b5050505050905090565b6000602081905290815260409020805481906101d8906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610204906110cd565b80156102515780601f1061022657610100808354040283529160200191610251565b820191906000526020600020905b81548152906001019060200180831161023457829003601f168201915b505050505090806001018054610266906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610292906110cd565b80156102df5780601f106102b4576101008083540402835291602001916102df565b820191906000526020600020905b8154815290600101906020018083116102c257829003601f168201915b5050505050908060020180546102f4906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610320906110cd565b801561036d5780601f106103425761010080835404028352916020019161036d565b820191906000526020600020905b81548152906001019060200180831161035057829003601f168201915b505050505090806003018054610382906110cd565b80601f01602080910402602001604051908101604052809291908181526020018280546103ae906110cd565b80156103fb5780601f106103d0576101008083540402835291602001916103fb565b820191906000526020600020905b8154815290600101906020018083116103de57829003601f168201915b505050505090806004018054610410906110cd565b80601f016020809104026020016040519081016040528092919081815260200182805461043c906110cd565b80156104895780601f1061045e57610100808354040283529160200191610489565b820191906000526020600020905b81548152906001019060200180831161046c57829003601f168201915b50505050509080600501805461049e906110cd565b80601f01602080910402602001604051908101604052809291908181526020018280546104ca906110cd565b80156105175780601f106104ec57610100808354040283529160200191610517565b820191906000526020600020905b8154815290600101906020018083116104fa57829003601f168201915b50505050600683015460079093015491926001600160a01b03811692600160a01b9091046001600160601b0316915060ff1689565b6040516317d4a49160e01b81523360048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906317d4a49190602401602060405180830381865afa1580156105b0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105d49190611107565b61061a5760405162461bcd60e51b81526020600482015260126024820152712737ba10309036b0b73ab330b1ba3ab932b960711b60448201526064015b60405180910390fd5b600086511161065d5760405162461bcd60e51b815260206004820152600f60248201526e125b9d985b1a590818985d18da1259608a1b6044820152606401610611565b60008151116106a15760405162461bcd60e51b815260206004820152601060248201526f125b9d985b1a590812541194c810d25160821b6044820152606401610611565b855160208088019190912060008181529182905260409091206007015460ff161561070e5760405162461bcd60e51b815260206004820152601860248201527f426174636820616c7265616479207265676973746572656400000000000000006044820152606401610611565b60408051610120810182528881526020808201899052818301889052606082018790526080820186905260a082018590523360c08301526001600160601b03421660e083015260016101008301526000848152908190529190912081518190610777908261117f565b506020820151600182019061078c908261117f565b50604082015160028201906107a1908261117f565b50606082015160038201906107b6908261117f565b50608082015160048201906107cb908261117f565b5060a082015160058201906107e0908261117f565b5060c082015160e08301516001600160601b0316600160a01b026001600160a01b03909116176006820155610100909101516007909101805491151560ff199092169190911790556001805480820182556000919091527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60181905560405133907fc644aec6e5cd862644ea2bb69bba964c2e1efad01d3abbc067d25dd48bc7c8a49061089a908a908a908a908a908a908a90429061123f565b60405180910390a250505050505050565b805160208083019190912060008181529182905260408220600701546060928392839283928392909182919060ff1661091d5760405162461bcd60e51b815260206004820152601460248201527310985d18da08191bd95cc81b9bdd08195e1a5cdd60621b6044820152606401610611565b60008181526020819052604080822081516101208101909252805482908290610945906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610971906110cd565b80156109be5780601f10610993576101008083540402835291602001916109be565b820191906000526020600020905b8154815290600101906020018083116109a157829003601f168201915b505050505081526020016001820180546109d7906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610a03906110cd565b8015610a505780601f10610a2557610100808354040283529160200191610a50565b820191906000526020600020905b815481529060010190602001808311610a3357829003601f168201915b50505050508152602001600282018054610a69906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610a95906110cd565b8015610ae25780601f10610ab757610100808354040283529160200191610ae2565b820191906000526020600020905b815481529060010190602001808311610ac557829003601f168201915b50505050508152602001600382018054610afb906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610b27906110cd565b8015610b745780601f10610b4957610100808354040283529160200191610b74565b820191906000526020600020905b815481529060010190602001808311610b5757829003601f168201915b50505050508152602001600482018054610b8d906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610bb9906110cd565b8015610c065780601f10610bdb57610100808354040283529160200191610c06565b820191906000526020600020905b815481529060010190602001808311610be957829003601f168201915b50505050508152602001600582018054610c1f906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610c4b906110cd565b8015610c985780601f10610c6d57610100808354040283529160200191610c98565b820191906000526020600020905b815481529060010190602001808311610c7b57829003601f168201915b505050918352505060068201546001600160a01b0381166020808401919091526001600160601b03600160a01b909204821660408085019190915260079094015460ff1615156060938401528401519284015191840151608085015160a086015160c087015160e090970151959f50939d50909b5099509097509195501692505050919395979092949650565b600060208284031215610d3757600080fd5b5035919050565b6020808252825182820181905260009190848201906040850190845b81811015610d7657835183529284019291840191600101610d5a565b50909695505050505050565b6000815180845260005b81811015610da857602081850181015186830182015201610d8c565b506000602082860101526020601f19601f83011685010191505092915050565b6000610120808352610ddc8184018d610d82565b90508281036020840152610df0818c610d82565b90508281036040840152610e04818b610d82565b90508281036060840152610e18818a610d82565b90508281036080840152610e2c8189610d82565b905082810360a0840152610e408188610d82565b6001600160a01b039690961660c084015250506001600160601b039290921660e08301521515610100909101529695505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610e9e57600080fd5b813567ffffffffffffffff80821115610eb957610eb9610e77565b604051601f8301601f19908116603f01168101908282118183101715610ee157610ee1610e77565b81604052838152866020858801011115610efa57600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060008060008060c08789031215610f3357600080fd5b863567ffffffffffffffff80821115610f4b57600080fd5b610f578a838b01610e8d565b97506020890135915080821115610f6d57600080fd5b610f798a838b01610e8d565b96506040890135915080821115610f8f57600080fd5b610f9b8a838b01610e8d565b95506060890135915080821115610fb157600080fd5b610fbd8a838b01610e8d565b94506080890135915080821115610fd357600080fd5b610fdf8a838b01610e8d565b935060a0890135915080821115610ff557600080fd5b5061100289828a01610e8d565b9150509295509295509295565b60006020828403121561102157600080fd5b813567ffffffffffffffff81111561103857600080fd5b61104484828501610e8d565b949350505050565b60e08152600061105f60e083018a610d82565b8281036020840152611071818a610d82565b905082810360408401526110858189610d82565b905082810360608401526110998188610d82565b905082810360808401526110ad8187610d82565b6001600160a01b039590951660a0840152505060c0015295945050505050565b600181811c908216806110e157607f821691505b60208210810361110157634e487b7160e01b600052602260045260246000fd5b50919050565b60006020828403121561111957600080fd5b8151801515811461112957600080fd5b9392505050565b601f82111561117a57600081815260208120601f850160051c810160208610156111575750805b601f850160051c820191505b8181101561117657828155600101611163565b5050505b505050565b815167ffffffffffffffff81111561119957611199610e77565b6111ad816111a784546110cd565b84611130565b602080601f8311600181146111e257600084156111ca5750858301515b600019600386901b1c1916600185901b178555611176565b600085815260208120601f198616915b82811015611211578886015182559484019460019091019084016111f2565b508582101561122f5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60e08152600061125260e083018a610d82565b8281036020840152611264818a610d82565b905082810360408401526112788189610d82565b9050828103606084015261128c8188610d82565b905082810360808401526112a08187610d82565b905082810360a08401526112b48186610d82565b9150508260c08301529897505050505050505056fea2646970667358221220641d504922f7cb0328bb8187ed6b83bbfbb1b417868c74f34f3af7acaec5301064736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c806313007d5514610067578063b3d346b9146100ab578063bce06947146100cc578063c81e25ab146100e1578063f16f927114610109578063f9ca42741461011e575b600080fd5b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100be6100b9366004610d25565b610144565b6040519081526020016100a2565b6100d4610165565b6040516100a29190610d3e565b6100f46100ef366004610d25565b6101bd565b6040516100a299989796959493929190610dc8565b61011c610117366004610f1a565b61054c565b005b61013161012c36600461100f565b6108ab565b6040516100a2979695949392919061104c565b6001818154811061015457600080fd5b600091825260209091200154905081565b606060018054806020026020016040519081016040528092919081815260200182805480156101b357602002820191906000526020600020905b81548152602001906001019080831161019f575b5050505050905090565b6000602081905290815260409020805481906101d8906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610204906110cd565b80156102515780601f1061022657610100808354040283529160200191610251565b820191906000526020600020905b81548152906001019060200180831161023457829003601f168201915b505050505090806001018054610266906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610292906110cd565b80156102df5780601f106102b4576101008083540402835291602001916102df565b820191906000526020600020905b8154815290600101906020018083116102c257829003601f168201915b5050505050908060020180546102f4906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610320906110cd565b801561036d5780601f106103425761010080835404028352916020019161036d565b820191906000526020600020905b81548152906001019060200180831161035057829003601f168201915b505050505090806003018054610382906110cd565b80601f01602080910402602001604051908101604052809291908181526020018280546103ae906110cd565b80156103fb5780601f106103d0576101008083540402835291602001916103fb565b820191906000526020600020905b8154815290600101906020018083116103de57829003601f168201915b505050505090806004018054610410906110cd565b80601f016020809104026020016040519081016040528092919081815260200182805461043c906110cd565b80156104895780601f1061045e57610100808354040283529160200191610489565b820191906000526020600020905b81548152906001019060200180831161046c57829003601f168201915b50505050509080600501805461049e906110cd565b80601f01602080910402602001604051908101604052809291908181526020018280546104ca906110cd565b80156105175780601f106104ec57610100808354040283529160200191610517565b820191906000526020600020905b8154815290600101906020018083116104fa57829003601f168201915b50505050600683015460079093015491926001600160a01b03811692600160a01b9091046001600160601b0316915060ff1689565b6040516317d4a49160e01b81523360048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906317d4a49190602401602060405180830381865afa1580156105b0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105d49190611107565b61061a5760405162461bcd60e51b81526020600482015260126024820152712737ba10309036b0b73ab330b1ba3ab932b960711b60448201526064015b60405180910390fd5b600086511161065d5760405162461bcd60e51b815260206004820152600f60248201526e125b9d985b1a590818985d18da1259608a1b6044820152606401610611565b60008151116106a15760405162461bcd60e51b815260206004820152601060248201526f125b9d985b1a590812541194c810d25160821b6044820152606401610611565b855160208088019190912060008181529182905260409091206007015460ff161561070e5760405162461bcd60e51b815260206004820152601860248201527f426174636820616c7265616479207265676973746572656400000000000000006044820152606401610611565b60408051610120810182528881526020808201899052818301889052606082018790526080820186905260a082018590523360c08301526001600160601b03421660e083015260016101008301526000848152908190529190912081518190610777908261117f565b506020820151600182019061078c908261117f565b50604082015160028201906107a1908261117f565b50606082015160038201906107b6908261117f565b50608082015160048201906107cb908261117f565b5060a082015160058201906107e0908261117f565b5060c082015160e08301516001600160601b0316600160a01b026001600160a01b03909116176006820155610100909101516007909101805491151560ff199092169190911790556001805480820182556000919091527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60181905560405133907fc644aec6e5cd862644ea2bb69bba964c2e1efad01d3abbc067d25dd48bc7c8a49061089a908a908a908a908a908a908a90429061123f565b60405180910390a250505050505050565b805160208083019190912060008181529182905260408220600701546060928392839283928392909182919060ff1661091d5760405162461bcd60e51b815260206004820152601460248201527310985d18da08191bd95cc81b9bdd08195e1a5cdd60621b6044820152606401610611565b60008181526020819052604080822081516101208101909252805482908290610945906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610971906110cd565b80156109be5780601f10610993576101008083540402835291602001916109be565b820191906000526020600020905b8154815290600101906020018083116109a157829003601f168201915b505050505081526020016001820180546109d7906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610a03906110cd565b8015610a505780601f10610a2557610100808354040283529160200191610a50565b820191906000526020600020905b815481529060010190602001808311610a3357829003601f168201915b50505050508152602001600282018054610a69906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610a95906110cd565b8015610ae25780601f10610ab757610100808354040283529160200191610ae2565b820191906000526020600020905b815481529060010190602001808311610ac557829003601f168201915b50505050508152602001600382018054610afb906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610b27906110cd565b8015610b745780601f10610b4957610100808354040283529160200191610b74565b820191906000526020600020905b815481529060010190602001808311610b5757829003601f168201915b50505050508152602001600482018054610b8d906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610bb9906110cd565b8015610c065780601f10610bdb57610100808354040283529160200191610c06565b820191906000526020600020905b815481529060010190602001808311610be957829003601f168201915b50505050508152602001600582018054610c1f906110cd565b80601f0160208091040260200160405190810160405280929190818152602001828054610c4b906110cd565b8015610c985780601f10610c6d57610100808354040283529160200191610c98565b820191906000526020600020905b815481529060010190602001808311610c7b57829003601f168201915b505050918352505060068201546001600160a01b0381166020808401919091526001600160601b03600160a01b909204821660408085019190915260079094015460ff1615156060938401528401519284015191840151608085015160a086015160c087015160e090970151959f50939d50909b5099509097509195501692505050919395979092949650565b600060208284031215610d3757600080fd5b5035919050565b6020808252825182820181905260009190848201906040850190845b81811015610d7657835183529284019291840191600101610d5a565b50909695505050505050565b6000815180845260005b81811015610da857602081850181015186830182015201610d8c565b506000602082860101526020601f19601f83011685010191505092915050565b6000610120808352610ddc8184018d610d82565b90508281036020840152610df0818c610d82565b90508281036040840152610e04818b610d82565b90508281036060840152610e18818a610d82565b90508281036080840152610e2c8189610d82565b905082810360a0840152610e408188610d82565b6001600160a01b039690961660c084015250506001600160601b039290921660e08301521515610100909101529695505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610e9e57600080fd5b813567ffffffffffffffff80821115610eb957610eb9610e77565b604051601f8301601f19908116603f01168101908282118183101715610ee157610ee1610e77565b81604052838152866020858801011115610efa57600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060008060008060c08789031215610f3357600080fd5b863567ffffffffffffffff80821115610f4b57600080fd5b610f578a838b01610e8d565b97506020890135915080821115610f6d57600080fd5b610f798a838b01610e8d565b96506040890135915080821115610f8f57600080fd5b610f9b8a838b01610e8d565b95506060890135915080821115610fb157600080fd5b610fbd8a838b01610e8d565b94506080890135915080821115610fd357600080fd5b610fdf8a838b01610e8d565b935060a0890135915080821115610ff557600080fd5b5061100289828a01610e8d565b9150509295509295509295565b60006020828403121561102157600080fd5b813567ffffffffffffffff81111561103857600080fd5b61104484828501610e8d565b949350505050565b60e08152600061105f60e083018a610d82565b8281036020840152611071818a610d82565b905082810360408401526110858189610d82565b905082810360608401526110998188610d82565b905082810360808401526110ad8187610d82565b6001600160a01b039590951660a0840152505060c0015295945050505050565b600181811c908216806110e157607f821691505b60208210810361110157634e487b7160e01b600052602260045260246000fd5b50919050565b60006020828403121561111957600080fd5b8151801515811461112957600080fd5b9392505050565b601f82111561117a57600081815260208120601f850160051c810160208610156111575750805b601f850160051c820191505b8181101561117657828155600101611163565b5050505b505050565b815167ffffffffffffffff81111561119957611199610e77565b6111ad816111a784546110cd565b84611130565b602080601f8311600181146111e257600084156111ca5750858301515b600019600386901b1c1916600185901b178555611176565b600085815260208120601f198616915b82811015611211578886015182559484019460019091019084016111f2565b508582101561122f5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60e08152600061125260e083018a610d82565b8281036020840152611264818a610d82565b905082810360408401526112788189610d82565b9050828103606084015261128c8188610d82565b905082810360808401526112a08187610d82565b905082810360a08401526112b48186610d82565b9150508260c08301529897505050505050505056fea2646970667358221220641d504922f7cb0328bb8187ed6b83bbfbb1b417868c74f34f3af7acaec5301064736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
